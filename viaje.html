<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Calculadora de Desbaste Comparativa - Rectificadora</title>
  <style>
    body { font-family: Arial, sans-serif; background:#f5f5f5; margin:0; padding:20px; }
    .container { max-width:900px; margin:auto; background:white; padding:20px; border-radius:10px; box-shadow:0 4px 10px rgba(0,0,0,0.1); }
    h1 { font-size:20px; margin-bottom:15px; }
    h2 { font-size:17px; margin-top:20px; }
    label { font-size:14px; display:block; margin-top:10px; }
    input { width:100%; padding:8px; font-size:14px; margin-top:5px; border:1px solid #ccc; border-radius:6px; }
    .grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap:20px; }
    button { background:#0078ff; border:none; color:white; padding:10px 14px; margin-top:15px; border-radius:6px; cursor:pointer; font-weight:bold; }
    button:hover { background:#005fd1; }
    .result { margin-top:20px; background:#f0f4f8; padding:15px; border-radius:8px; }
    .result p { margin:5px 0; font-size:14px; }
    .title-box { font-weight:bold; background:#e9eef5; padding:5px 10px; border-radius:6px; margin-bottom:10px; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Calculadora Comparativa de Desbaste - Rectificadora</h1>
    <p>Longitud fija por carrera: <strong>1925 mm</strong></p>

    <div class="grid">
      <div>
        <h2>‚öôÔ∏è Par√°metros Velocidad 1</h2>
        <label>Velocidad (mm/min):</label>
        <input id="velocidad1" type="number" value="5000" min="0" step="any">
        <label>N√∫mero de carreras:</label>
        <input id="carreras1" type="number" value="67" min="0">
        <label>Desbaste total (mm):</label>
        <input id="desbaste1" type="number" value="0.207" min="0" step="any">
      </div>

      <div>
        <h2>‚öôÔ∏è Par√°metros Velocidad 2</h2>
        <label>Velocidad (mm/min):</label>
        <input id="velocidad2" type="number" value="2500" min="0" step="any">
        <label>N√∫mero de carreras:</label>
        <input id="carreras2" type="number" value="100" min="0">
        <label>Desbaste total (mm):</label>
        <input id="desbaste2" type="number" value="0.5" min="0" step="any">
      </div>
    </div>

    <button onclick="calcular()">Calcular</button>

    <div id="resultadosComparados" class="result" style="display:none;">
      <div class="title-box">üìä Comparativa de Resultados</div>
      <p><strong>Tiempo por carrera:</strong> <span id="tpc1"></span> min | <span id="tpc2"></span> min</p>
      <p><strong>Carreras por minuto:</strong> <span id="cpm1"></span> | <span id="cpm2"></span></p>
      <p><strong>Desbaste por carrera:</strong> <span id="dpc1"></span> mm | <span id="dpc2"></span> mm</p>
      <p><strong>Desbaste por minuto:</strong> <span id="dpm1"></span> mm/min | <span id="dpm2"></span> mm/min</p>
      <p><strong>Desbaste por hora:</strong> <span id="dph1"></span> mm/h | <span id="dph2"></span> mm/h</p>
      <p><strong>Tiempo para quitar 1 mm:</strong> <span id="t1mm1"></span> min | <span id="t1mm2"></span> min</p>
    </div>
  </div>

  <script>
    const LONGITUD_CARRERA = 1925; // mm

    function formato(valor, decimales = 5) {
      return parseFloat(valor).toFixed(decimales).replace(/\.?0+$/, '');
    }

    function calcularConjunto(v, n, dTot) {
      const tCarrera = LONGITUD_CARRERA / v;
      const carrPorMin = 1 / tCarrera;
      const dPorCarrera = dTot / n;
      const dPorMin = dPorCarrera * carrPorMin;
      const dPorHora = dPorMin * 60;
      const t1mm = dPorMin > 0 ? (1 / dPorMin) : Infinity;
      return { tCarrera, carrPorMin, dPorCarrera, dPorMin, dPorHora, t1mm };
    }

    function calcular() {
      const v1 = parseFloat(document.getElementById('velocidad1').value);
      const n1 = parseFloat(document.getElementById('carreras1').value);
      const d1 = parseFloat(document.getElementById('desbaste1').value);

      const v2 = parseFloat(document.getElementById('velocidad2').value);
      const n2 = parseFloat(document.getElementById('carreras2').value);
      const d2 = parseFloat(document.getElementById('desbaste2').value);

      if (v1 <= 0 || n1 <= 0 || d1 < 0 || v2 <= 0 || n2 <= 0 || d2 < 0) {
        alert("Introduce valores v√°lidos en ambos casos.");
        return;
      }

      const r1 = calcularConjunto(v1, n1, d1);
      const r2 = calcularConjunto(v2, n2, d2);

      document.getElementById('tpc1').textContent = formato(r1.tCarrera);
      document.getElementById('tpc2').textContent = formato(r2.tCarrera);
      document.getElementById('cpm1').textContent = formato(r1.carrPorMin,3);
      document.getElementById('cpm2').textContent = formato(r2.carrPorMin,3);
      document.getElementById('dpc1').textContent = formato(r1.dPorCarrera,6);
      document.getElementById('dpc2').textContent = formato(r2.dPorCarrera,6);
      document.getElementById('dpm1').textContent = formato(r1.dPorMin,6);
      document.getElementById('dpm2').textContent = formato(r2.dPorMin,6);
      document.getElementById('dph1').textContent = formato(r1.dPorHora,4);
      document.getElementById('dph2').textContent = formato(r2.dPorHora,4);
      document.getElementById('t1mm1').textContent = formato(r1.t1mm,2);
      document.getElementById('t1mm2').textContent = formato(r2.t1mm,2);

      document.getElementById('resultadosComparados').style.display = "block";
    }
  </script>
</body>
</html>